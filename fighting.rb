########################################################################################################################
class Player                                                                                                     #######
  attr_accessor :name, :health, :power                                                                           #######
                                                                                                                 #######
  def initialize(name, hp, power)                                                                                #######
    @name = name                                                                                                 #######
    @health = hp                                                                                                 #######
    @power = power                                                                                               #######
  end                                                                                                            #######
                                                                                                                 #######
  def isAlive                                                                                                    #######
    @health > 0                                                                                                  #######
  end                                                                                                            #######
  def hit(opponent)                                                                                              #######
    opponent.health -= self.power                                                                                #######
  end                                                                                                            #######
                                                                                                                 #######
  def to_s                                                                                                       #######
    "Имя: #{name}\nЗдоровье: #{health}\nСила: #{power}\n"                                                        #######
  end                                                                                                            #######
end                                                                                                              #######
########################################################################################################################
def fight(player1, player2)                                                                                      #######
  while player1.isAlive && player2.isAlive                                                                       #######
    player1.hit(player2)                                                                                         #######
    puts "Игрок #{player1.name} нанес #{player1.power} урона игроку #{player2.name}(HP: #{player2.health})"      #######
    player2.hit(player1)                                                                                         #######
    puts "Игрок #{player2.name} нанес #{player2.power} урона игроку #{player1.name}(HP: #{player1.health})"      #######
    show_info(player1)                                                                                           #######
  end                                                                                                            #######
end                                                                                                              #######
########################################################################################################################
def show_info(*p)                                                                                                #######
  p.each { |x| puts x }                                                                                          #######
end                                                                                                              #######
########################################################################################################################
player1name = gets.chomp                                                                                         #######
player1hp = 100                                                                                                  #######
player1power = 10+rand(10)                                                                                       #######
########################################################################################################################
player2name = gets.chomp                                                                                         #######
player2hp = 100                                                                                                  #######
player2power = 10+rand(10)                                                                                       #######
########################################################################################################################
puts "Информация о противниках:\n"                                                                               #######
########################################################################################################################
player1 = Player.new(                                                                                            #######
player1name,                                                                                                     #######
player1hp,                                                                                                       #######
player1power                                                                                                     #######
)                                                                                                                #######
########################################################################################################################
player2 = Player.new(                                                                                            #######
player2name,                                                                                                     #######
player2hp,                                                                                                       #######
player2power                                                                                                     #######
)                                                                                                                #######
########################################################################################################################
show_info(player1, player2)                                                                                      #######
########################################################################################################################
puts "Бой начнется через...\n3...\n2...\n1...\nВ бой!"                                                           #######
fight(player1, player2)                                                                                          #######
########################################################################################################################
if player1.isAlive                                                                                               #######
  puts "####################\nПобедитель: #{player1.name}\n####################"                                 #######
elsif player2.isAlive                                                                                            #######
  puts "####################\nПобедитель: #{player2.name}\n####################"                                 #######
else                                                                                                             #######
  puts "####################\nНичья\n####################"                                                       #######
end                                                                                                              #######
########################################################################################################################
